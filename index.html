<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>RL Mahjong Agent</title>
  <link rel="stylesheet" href="style.css">
  <script>
    function toggleMenu() {
      const menu = document.getElementById("side-menu");
      const content = document.getElementById("main-content");
      if (menu.classList.contains("open")) {
        menu.classList.remove("open");
        content.classList.remove("shifted");
      } else {
        menu.classList.add("open");
        content.classList.add("shifted");
      }
    }
  </script>
  <style>
/* Default: no padding */
  #main-content {
    padding: 0 5%;
  }

  /* Apply 20% side padding only to these sections */
  #results,
  #methodology {
    padding: 0 15%;
    text-align: left;
    margin: 40px 0;
  }

  /* Keep text left-aligned by default */
  #main-content h2,
  #main-content p,
  #main-content ul,
  #main-content table {
    text-align: left;
  }

  /* Only center the demo section */
  #demo.centered-section {
    padding: 0 15%;
    text-align: left;
    margin: 40px 0;
  }

  #demo video {

    max-width: 100%;
  }
</style>

</head>
<body>

<div id="page">
<div id="side-menu">
  <div class="menu-title">Menu</div>
  <a href="#rlmahjong">MahjongMind</a>
  <a href="#mahjong-intro">Introduction to Mahjong</a>

  <div class="submenu">
    <a href="#tiles">Tiles</a>
    <a href="#rules">Rules</a>
    <a href="#yaku">Yaku</a>
    <a href="#glossary">Glossary</a>
    <a href="#tenhou">Tenhou Platform</a>
    <a href="#other-agents">Other Agents</a>
  </div>

  <a href="#methodology">Methodology</a>
  <a href="#results">Results</a>
  <a href="#demo">Demo</a>
</div>

  <div id="main-content">
    <button id="menu-button" onclick="toggleMenu()">☰</button>

    <section id="rlmahjong" class="section-with-image">
      <div class="text">
        <h1>MahjongMind</h1>
        <p>
          This project explores the development of a Reinforcement Learning agent for the game of Japanese Riichi Mahjong.
          We focus on designing effective reward structures, efficient state representations, and competitive self-play training regimes.
        </p>
      </div>
      <div class="image">
        <img src="images/tenhou_gameplay.jpg" alt="RL Mahjong Intro Image">
      </div>
    </section>

    <section id="mahjong-intro">
      <h2>Introduction to Mahjong</h2>

      <div class="mahjong-grid">
        <!-- Row 1: Tiles and Rules -->
        <div class="mahjong-subsection" id="tiles">
          <div class="section-image">
            <img src="images/mahjong-tiles.png" alt="Tiles Example">
          </div>
          <h3>Tiles</h3>
          <p>In Riichi Mahjong, tiles are divided into several categories: suits and honors. Suited tiles include characters (manzu), bamboo (souzu), and circles (pinzu), each numbered from one to nine. Honor tiles consist of winds (east, south, west, north) and dragons (white, green, and red). Each tile type appears four times, resulting in a total of 136 tiles used in the game. Understanding the distribution and relationships between these tile groups is critical for identifying efficient paths to complete a hand, assessing discards, and predicting opponents' hands based on observed behavior.</p>
          <!-- Button -->
          <a href="https://en.wikipedia.org/wiki/Mahjong_tiles" class="info-button" target="_blank">More Info</a>
        </div>

        <div class="mahjong-subsection" id="rules">
          <div class="section-image">
            <img src="images/mahjong-rules.png" alt="Rules Example">
          </div>
          <h3>Rules</h3>
          <p>Riichi Mahjong is a four-player game centered around assembling a legal winning hand of fourteen tiles. A complete hand typically consists of four sets (three tiles forming sequences or triplets) and one pair, although exceptions exist for special hands. Players draw and discard tiles turn-by-turn, aiming to complete their hand before others. A unique feature of Riichi Mahjong is the concept of "riichi," a declaration made when a player is one tile away from winning, locking in their hand structure and increasing potential points. Rules also govern calls (pon, chi, kan) that allow stealing tiles from others, and scoring is influenced by both hand structure and hidden bonuses such as dora.</p>
          <!-- Button -->
          <a href="https://mahjong.guide/a-beginners-guide-to-riichi-mahjong/" class="info-button" target="_blank">More Info</a>
        </div>

        <!-- Row 2: Yaku and Glossary -->
  <div class="mahjong-subsection" id="yaku">
  <h3>Yaku</h3>
  <p>In Riichi Mahjong, a hand must satisfy at least one "yaku" — a specific pattern or condition — to be eligible for winning. Below are some basic yaku important for both players and AI agents to recognize:</p>

  <ul>

    <li>
      <strong>Riichi:</strong> Declare ready hand; must have a closed hand.
      <div class="tile-row">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Closed tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Closed tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Closed tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Closed tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Closed tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Closed tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Closed tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Closed tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Closed tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Closed tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Closed tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Closed tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Closed tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Closed tile">
      </div>
    </li>

    <li>
      <strong>Tanyao (All Simples):</strong> Hand composed entirely of 2–8 numbered tiles.
      <div class="tile-row">
        <img src="images/mahjong_tiles_png/Mpt2m.png" alt="2-man">
        <img src="images/mahjong_tiles_png/Mpt3m.png" alt="3-man">
        <img src="images/mahjong_tiles_png/Mpt4m.png" alt="4-man">
        <img src="images/mahjong_tiles_png/Mpt5p.png" alt="5-pin">
        <img src="images/mahjong_tiles_png/Mpt6p.png" alt="6-pin">
        <img src="images/mahjong_tiles_png/Mpt7p.png" alt="7-pin">
        <img src="images/mahjong_tiles_png/Mpt5s.png" alt="5-sou">
        <img src="images/mahjong_tiles_png/Mpt6s.png" alt="6-sou">
        <img src="images/mahjong_tiles_png/Mpt7s.png" alt="7-sou">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Hidden tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Hidden tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Hidden tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Hidden tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Hidden tile">
      </div>
    </li>

    <li>
      <strong>Pinfu:</strong> Hand made entirely of sequences, no points for waits.
      <div class="tile-row">
        <img src="images/mahjong_tiles_png/Mpt2m.png" alt="2-man">
        <img src="images/mahjong_tiles_png/Mpt3m.png" alt="3-man">
        <img src="images/mahjong_tiles_png/Mpt4m.png" alt="4-man">
        <img src="images/mahjong_tiles_png/Mpt6p.png" alt="6-pin">
        <img src="images/mahjong_tiles_png/Mpt7p.png" alt="7-pin">
        <img src="images/mahjong_tiles_png/Mpt8p.png" alt="8-pin">
        <img src="images/mahjong_tiles_png/Mpt3s.png" alt="3-sou">
        <img src="images/mahjong_tiles_png/Mpt4s.png" alt="4-sou">
        <img src="images/mahjong_tiles_png/Mpt5s.png" alt="5-sou">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Hidden tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Hidden tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Hidden tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Hidden tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Hidden tile">
      </div>
    </li>

    <li>
      <strong>Yakuhai (Value Tiles):</strong> Triplet of dragons or seat winds.
      <div class="tile-row">
        <img src="images/mahjong_tiles_png/Mpt5q.png" alt="Red Dragon">
        <img src="images/mahjong_tiles_png/Mpt5q.png" alt="Red Dragon">
        <img src="images/mahjong_tiles_png/Mpt5q.png" alt="Red Dragon">
        <img src="images/mahjong_tiles_png/Mpt7p.png" alt="7-pin">
        <img src="images/mahjong_tiles_png/Mpt8p.png" alt="8-pin">
        <img src="images/mahjong_tiles_png/Mpt9p.png" alt="9-pin">
        <img src="images/mahjong_tiles_png/Mpt2s.png" alt="2-sou">
        <img src="images/mahjong_tiles_png/Mpt3s.png" alt="3-sou">
        <img src="images/mahjong_tiles_png/Mpt4s.png" alt="4-sou">
        <img src="images/mahjong_tiles_png/Mpt6m.png" alt="6-man">
        <img src="images/mahjong_tiles_png/Mpt7m.png" alt="7-man">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Hidden tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Hidden tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Hidden tile">
      </div>
    </li>

    <li>
      <strong>Iipeikou (Pure Double Sequence):</strong> Two identical sequences in the same suit.
      <div class="tile-row">
        <img src="images/mahjong_tiles_png/Mpt3s.png" alt="3-sou">
        <img src="images/mahjong_tiles_png/Mpt4s.png" alt="4-sou">
        <img src="images/mahjong_tiles_png/Mpt5s.png" alt="5-sou">
        <img src="images/mahjong_tiles_png/Mpt3s.png" alt="3-sou">
        <img src="images/mahjong_tiles_png/Mpt4s.png" alt="4-sou">
        <img src="images/mahjong_tiles_png/Mpt5s.png" alt="5-sou">
        <img src="images/mahjong_tiles_png/Mpt2m.png" alt="2-man">
        <img src="images/mahjong_tiles_png/Mpt3m.png" alt="3-man">
        <img src="images/mahjong_tiles_png/Mpt4m.png" alt="4-man">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Hidden tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Hidden tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Hidden tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Hidden tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Hidden tile">
      </div>
    </li>

    <li>
      <strong>Menzen Tsumo:</strong> Winning by self-draw with a closed hand.
      <div class="tile-row">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Closed tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Closed tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Closed tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Closed tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Closed tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Closed tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Closed tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Closed tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Closed tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Closed tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Closed tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Closed tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Closed tile">
        <img src="images/mahjong_tiles_png/Mpt00.png" alt="Closed tile">
      </div>
    </li>
  </ul>
    <!-- Button -->
  <a href="https://riichi.wiki/List_of_yaku" class="info-button" target="_blank">More Info</a>

  </div>


        <div class="mahjong-subsection" id="glossary">
          <h3>Glossary</h3>
          <p>A collection of key terms frequently used in Riichi Mahjong gameplay, essential for understanding game flow and rules:</p>
          <ul>
            <li><strong>Riichi:</strong> Declaration of a ready hand by betting 1000 points.</li>
            <li><strong>Dora:</strong> Bonus tiles that increase hand value.</li>
            <li><strong>Tenpai:</strong> A hand one tile away from winning.</li>
            <li><strong>Furiten:</strong> Cannot win off discard if you have discarded a winning tile.</li>
            <li><strong>Tsumo:</strong> Winning by drawing the needed tile yourself.</li>
            <li><strong>Ron:</strong> Winning by claiming another player's discarded tile.</li>
            <li><strong>Yaku:</strong> Specific hand patterns or conditions required to win.</li>
            <li><strong>Chombo:</strong> Penalty for an illegal move, such as a false win.</li>
            <li><strong>Kan:</strong> Declaring a quad (four identical tiles) for extra draw and dora.</li>
            <li><strong>Chi:</strong> Claiming a sequential meld from the player to your left.</li>
            <li><strong>Pon:</strong> Claiming a triplet from any player's discard.</li>
            <li><strong>Closed Hand:</strong> A hand without any open melds (chi, pon, kan).</li>
            <li><strong>Open Hand:</strong> A hand with one or more open melds (revealed to others).</li>
            <li><strong>Dealer (East):</strong> The player who starts the round; receives extra rewards for winning but more penalty for losing.</li>
          </ul>
          <!-- Button -->
          <a href="https://riichi.wiki/List_of_terminology_by_alphabetical_order" class="info-button" target="_blank">More Info</a>
        </div>
      </div>
</section>



    <section id="methodology" class="centered-section">
  <h2>Methodology</h2>
  <p>Empty.</p>
</section>

<section id="results" class="centered-section">
  <h2>Results</h2>
  <p>To test the final performance of our agent, we play 100 rounds of Riichi Mahjong against 3 other agents, described below:</p>

  <div class="agent-description">
    <h3>RuleBasedAgent</h3>
    <p>
      A deterministic agent using hard-coded expert logic, designed as a strong rule-based baseline.
      It mimics human play using structured if-else decision logic and prioritizes winning moves (Tsumo/Ron),
      Riichi declarations, and safe/strategic calls. Effective for benchmarking basic competence without learning.
    </p>
  </div>

  <div class="agent-description">
    <h3>ShantenAgent</h3>
    <p>
      A hand-efficiency-focused agent that plays solely to reduce the <em>shanten</em> number (the distance from a winning hand).
      Inspired by Mjai's ShantenPlayer, it prioritizes draws/discards and melds that optimize efficiency, without regard to risk or opponent play.
      Represents a greedy but goal-driven heuristic.
    </p>
  </div>

  <div class="agent-description">
    <h3>AlphaJong</h3>
    <p>
      A sophisticated, search-based agent inspired by AlphaGo’s philosophy. Instead of using machine learning,
      AlphaJong simulates future game states to evaluate possible actions and selects the most promising move.
      It effectively balances offense and defense through structured turn simulations.
      <strong>Notably, AlphaJong has reached <em>Master rank</em></strong>,
      one of the highest competitive tiers in Mahjong Soul’s ranked ladder, indicating strong performance against human players.
    </p>
  </div>

  <p>This table summarizes the placement distribution, average game score, and rating change for each agent over 100 games.</p>

  <table>
    <caption>Performance of Agents in Simulated Mahjong Games (100 rounds)</caption>
    <thead>
      <tr>
        <th>Agent ID</th>
        <th>1st Rank</th>
        <th>2nd Rank</th>
        <th>3rd Rank</th>
        <th>4th Rank</th>
        <th>Avg. Score</th>
        <th>Avg. Tenhou Rating Gain/Loss</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>MahjongMind</td>
        <td>43.0%</td>
        <td>29.0%</td>
        <td>20.0%</td>
        <td>8.0%</td>
        <td>29,752.00</td>
        <td>40.95</td>
      </tr>
      <tr>
        <td>ShantenAgent</td>
        <td>11.0%</td>
        <td>18.0%</td>
        <td>33.0%</td>
        <td>38.0%</td>
        <td>20,959.00</td>
        <td>-35.10</td>
      </tr>
      <tr>
        <td>RuleBasedAgent</td>
        <td>14.0%</td>
        <td>17.0%</td>
        <td>31.0%</td>
        <td>38.0%</td>
        <td>20,029.00</td>
        <td>-31.05</td>
      </tr>
      <tr>
        <td>AlphaJong</td>
        <td>32.0%</td>
        <td>36.0%</td>
        <td>16.0%</td>
        <td>16.0%</td>
        <td>28,790.00</td>
        <td>25.20</td>
      </tr>
    </tbody>
  </table>
</section>

<section id="demo" class="centered-section">
  <h2>Demo</h2>
  <p>
    Below is a sample match played by the agents in the final results table.
    In the replay, the perspective is fixed with our agent at the bottom, AlphaJong on the left,
    the ShantenAgent on the top, and the RuleBasedAgent on the right.
  </p>

  <video id="demo-video" width="850" controls poster="poster.jpg">
    <source src="videos/replay.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>
</section>
  </div>
</div> <!-- Close #page -->
</body>
</html>